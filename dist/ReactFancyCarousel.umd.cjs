(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("react")):typeof define=="function"&&define.amd?define(["react"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.ReactFancyCarousel=t(e.React))})(this,function(e){"use strict";var z=Object.defineProperty,B=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var N=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&N(e,r,t[r]);if($)for(var r of $(t))D.call(t,r)&&N(e,r,t[r]);return e},E=(e,t)=>B(e,H(t));var A=(e,t)=>{var r={};for(var o in e)x.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&$)for(var o of $(e))t.indexOf(o)<0&&D.call(e,o)&&(r[o]=e[o]);return r};const t=(...d)=>d.reduce((_,a)=>_.concat(typeof a=="string"?a:Object.keys(a||{}).map(u=>(a||{})[u]?u:"")),[]).filter(Boolean).join(" "),r=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,l={carousel:"_carousel_fw05l_1",container:"_container_fw05l_6",carousel_item:"_carousel_item_fw05l_14",indicator:"_indicator_fw05l_19",indicator_item:"_indicator_item_fw05l_29",indicator_item_inner:"_indicator_item_inner_fw05l_39",active:"_active_fw05l_49",indicatorAnim:"_indicatorAnim_fw05l_1"},j=u=>{var f=u,{className:d,children:_}=f,a=A(f,["className","children"]);return e.createElement("section",E(v({},a),{className:t(d,l.carousel_item)}),_)},M=e.memo(j),S=e.forwardRef((W,P)=>{var T=W,{className:d,showIndicator:_=!0,autoplay:a=!1,duration:u=3e3,speed:f=500,timingFunction:F="ease",children:b,onChange:g,indicatorRender:I}=T,K=A(T,["className","showIndicator","autoplay","duration","speed","timingFunction","children","onChange","indicatorRender"]);const p=r(),[s,w]=e.useState(0),h=e.useRef(0),c=e.useMemo(()=>e.Children.toArray(b),[b]);let k=e.useRef();const m=e.useCallback(()=>w(n=>n===c.length-1?0:n+1),[c]),y=e.useCallback(()=>w(n=>n===0?c.length-1:n-1),[c]);e.useEffect(()=>{g&&s!==h.current&&g.call(null,s,h.current),h.current=s},[s,g]),e.useEffect(()=>(a&&c.length>1&&(k.current=window.setTimeout(m,u)),()=>window.clearTimeout(k.current)),[a,s,u,c,m]),e.useImperativeHandle(P,()=>({next:m,prev:y,goTo:n=>w(n)}),[m,y]);const q=e.useCallback(n=>{n.stopPropagation(),(n.code==="Enter"||n.code==="Space")&&n.currentTarget.click(),n.code==="ArrowRight"&&m(),n.code==="ArrowLeft"&&y()},[m,y]);return e.createElement("div",E(v({},K),{className:t(d,l.carousel)}),e.createElement("div",{className:l.container,style:{transform:`translate(${-s*100+"%"}, 0)`,transitionDuration:`${f}ms`,transitionTimingFunction:F}},e.Children.map(b,(n,i)=>typeof n=="undefined"?n:e.cloneElement(n,{id:`carousel-item-${p}-${i}`,role:"tabpanel","aria-labelledby":`carousel-indicator-${p}-${i}`,"aria-hidden":s===i}))),_&&(I?I(s,c.length):e.createElement("ul",{className:l.indicator,role:"tablist"},c.map((n,i)=>e.createElement("li",{key:i,id:`carousel-indicator-${p}-${i}`,role:"tab","aria-label":`change to page ${i+1}`,"aria-controls":`carousel-item-${p}-${i}`,"aria-selected":s===i,tabIndex:0,className:t(l.indicator_item,{[l.active]:s===i}),onClick:()=>w(i),onKeyDown:q},e.createElement("div",{className:l.indicator_item_inner,style:{animationDuration:a&&c.length>1?`${u}ms`:"0"}}))))))}),C=e.memo(S);return C.Item=M,C});
