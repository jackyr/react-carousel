(function(r,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.ReactFancyCarousel={},r.React))})(this,function(r,e){"use strict";var te=Object.defineProperty,ne=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var U=(r,e,u)=>e in r?te(r,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[e]=u,M=(r,e)=>{for(var u in e||(e={}))G.call(e,u)&&U(r,u,e[u]);if(C)for(var u of C(e))J.call(e,u)&&U(r,u,e[u]);return r},D=(r,e)=>ne(r,re(e));var j=(r,e)=>{var u={};for(var f in r)G.call(r,f)&&e.indexOf(f)<0&&(u[f]=r[f]);if(r!=null&&C)for(var f of C(r))e.indexOf(f)<0&&J.call(r,f)&&(u[f]=r[f]);return u};const u=(...n)=>n.reduce((o,t)=>o.concat(typeof t=="string"?t:t&&Object.keys(t).map(s=>t[s]?s:"")),[]).filter(Boolean).join(" "),f=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,T=()=>e.useCallback(n=>{n.preventDefault(),n.stopPropagation();const o=n.currentTarget.parentNode,t=Array.from(o.childNodes),s=t.findIndex(l=>l===n.currentTarget);(n.key==="Enter"||n.key===" ")&&n.currentTarget.click(),n.key==="ArrowRight"&&(s===t.length-1?t[0].focus():t[s+1].focus()),n.key==="ArrowLeft"&&(s===0?t[t.length-1].focus():t[s-1].focus())},[]),O=()=>{const n=e.useRef(),o=e.useRef(),t=e.useRef(0),s=e.useRef(0),l=e.useRef(0),k=e.useRef(!1),a=e.useCallback(()=>{o.current=void 0,t.current=0,s.current=0,l.current=0,window.clearTimeout(n.current),n.current=void 0},[]),_=e.useCallback((y,g)=>{o.current=y,t.current=g,s.current=Date.now(),n.current=window.setTimeout(y,g)},[]),b=e.useCallback(()=>{n.current&&(l.current=Date.now(),window.clearTimeout(n.current),k.current=!0)},[]),d=e.useCallback(()=>{o.current&&s.current&&l.current&&t.current&&(t.current=t.current-(l.current-s.current),n.current=window.setTimeout(o.current,t.current),s.current=Date.now(),l.current=0,k.current=!1)},[]);return e.useMemo(()=>({set:_,clear:a,pause:b,resume:d,pausedRef:k}),[a,b,d,_])},w={carousel:"_carousel_1jakq_1",container:"_container_1jakq_6",slide:"_slide_1jakq_12",carousel_item:"_carousel_item_1jakq_17",fade:"_fade_1jakq_22"},Q=d=>{var y=d,{style:n,className:o,uid:t,index:s,active:l,effect:k,speed:a,children:_}=y,b=j(y,["style","className","uid","index","active","effect","speed","children"]);return e.createElement("section",D(M({},b),{style:Object.assign({transitionDuration:`${a}ms`},n),className:u(o,w.carousel_item,{[w.fade]:k==="fade"}),id:`carousel-item-${t}-${s}`,role:"tabpanel","data-active":l,"aria-labelledby":`carousel-indicator-${t}-${s}`,"aria-hidden":!l}),_)},p={indicator:"_indicator_mklxc_1",indicator_item:"_indicator_item_mklxc_13",indicator_item_outer:"_indicator_item_outer_mklxc_23",indicator_item_inner:"_indicator_item_inner_mklxc_37",animation:"_animation_mklxc_51",indicatorAnim:"_indicatorAnim_mklxc_1"},V=({uid:n,itemCount:o,activeIndex:t,animation:s,paused:l,duration:k,goTo:a})=>{const _=T();return e.createElement("ul",{className:p.indicator,role:"tablist"},Array.from({length:o}).map((b,d)=>e.createElement("li",{key:d,id:`carousel-indicator-${n}-${d}`,role:"tab","aria-label":`change to page ${d+1}`,"aria-controls":`carousel-item-${n}-${d}`,"aria-selected":t===d,tabIndex:t===d?0:-1,"data-active":t===d,"data-paused":l,className:p.indicator_item,onClick:()=>a(d),onKeyDown:_},e.createElement("div",{className:p.indicator_item_outer},e.createElement("div",{className:u(p.indicator_item_inner,{[p.animation]:s}),style:{animationDuration:`${k}ms`}})))))},I={indicator:"_indicator_1kk46_1",indicator_item:"_indicator_item_1kk46_13"},W=({uid:n,itemCount:o,activeIndex:t,goTo:s})=>{const l=T();return e.createElement("ul",{className:I.indicator,role:"tablist"},Array.from({length:o}).map((k,a)=>e.createElement("li",{key:a,id:`carousel-indicator-${n}-${a}`,role:"tab","aria-label":`change to page ${a+1}`,"aria-controls":`carousel-item-${n}-${a}`,"aria-selected":t===a,tabIndex:t===a?0:-1,"data-active":t===a,className:I.indicator_item,onClick:()=>s(a),onKeyDown:l})))},X={default:"_default_1xqo5_1"},Y=e.forwardRef((ye,Z)=>{var S=ye,{className:n,autoplay:o=!1,effect:t="slide",duration:s=3e3,speed:l=500,timingFunction:k="ease",infiniteLoop:a=!0,pauseOnHover:_=!1,indicator:b="solid",children:d,onChange:y}=S,g=j(S,["className","autoplay","effect","duration","speed","timingFunction","infiniteLoop","pauseOnHover","indicator","children","onChange"]);const x=f(),[$,v]=e.useState(0),h=e.useRef(0),i=e.useMemo(()=>e.Children.count(d),[d]),F=e.useRef(i),m=O(),[L,K]=e.useState(!1),[H,P]=e.useState(o&&i>1),z=e.useMemo(()=>b==="solid"?V:b==="dot"?W:b,[b]),E=e.useCallback(()=>v(c=>c===i-1?a?0:c:c+1),[a,i]),N=e.useCallback(()=>v(c=>c===0?a?i-1:c:c-1),[a,i]),A=e.useCallback(c=>v(()=>c<0?-c>i?0:i+c:c>i-1?i-1:c),[i]),R=e.useCallback(()=>{o&&i>1&&_&&(m.pause(),K(m.pausedRef.current))},[o,i,_,m]),ee=e.useCallback(()=>{o&&i>1&&_&&(m.resume(),K(m.pausedRef.current))},[o,i,_,m]);return e.useEffect(()=>{y&&$!==h.current&&y.call(null,$,h.current),h.current=$},[$,y]),e.useEffect(()=>(o&&i>1&&(!a&&$===i-1?m.clear():(m.set(E,s),m.pausedRef.current&&m.pause())),m.clear),[o,$,s,a,i,E,m]),e.useEffect(()=>(o&&i>1&&window.requestAnimationFrame(()=>P(!0)),()=>P(!1)),[o,s,i]),e.useEffect(()=>{i!==F.current&&A(0),F.current=i},[i,A]),e.useImperativeHandle(Z,()=>({next:E,prev:N,goTo:A}),[E,N,A]),e.createElement("div",D(M({},g),{className:u(n,X.default,w.carousel),role:"region","aria-label":"carousel",onMouseEnter:c=>{R(),g.onMouseEnter&&g.onMouseEnter.call(void 0,c)},onMouseLeave:c=>{ee(),g.onMouseLeave&&g.onMouseLeave.call(void 0,c)}}),e.createElement("div",{className:u(w.container,{[w.slide]:t==="slide"}),style:t==="slide"?{transform:`translate(${-$*100+"%"}, 0)`,transitionDuration:`${l}ms`,transitionTimingFunction:k}:void 0},e.Children.map(d,(c,B)=>typeof c=="undefined"?c:e.cloneElement(c,{uid:x,index:B,active:$===B,effect:t==="fade"?"fade":"none",speed:l}))),z&&e.createElement(z,{uid:x,activeIndex:$,itemCount:i,animation:H,paused:L,duration:s,next:E,prev:N,goTo:A}))}),q=e.memo(Y);q.Item=Q,r.default=q,r.useAccessibility=T,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
