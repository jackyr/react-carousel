(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("react")):typeof define=="function"&&define.amd?define(["react"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.ReactFancyCarousel=t(e.React))})(this,function(e){"use strict";var z=Object.defineProperty,B=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var N=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&N(e,r,t[r]);if($)for(var r of $(t))D.call(t,r)&&N(e,r,t[r]);return e},v=(e,t)=>B(e,H(t));var E=(e,t)=>{var r={};for(var o in e)x.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&$)for(var o of $(e))t.indexOf(o)<0&&D.call(e,o)&&(r[o]=e[o]);return r};const t=(...d)=>d.reduce((_,s)=>_.concat(typeof s=="string"?s:Object.keys(s||{}).map(u=>(s||{})[u]?u:"")),[]).filter(Boolean).join(" "),r=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,l={carousel:"_carousel_fw05l_1",container:"_container_fw05l_6",carousel_item:"_carousel_item_fw05l_14",indicator:"_indicator_fw05l_19",indicator_item:"_indicator_item_fw05l_29",indicator_item_inner:"_indicator_item_inner_fw05l_39",active:"_active_fw05l_49",indicatorAnim:"_indicatorAnim_fw05l_1"},j=u=>{var f=u,{className:d,children:_}=f,s=E(f,["className","children"]);return e.createElement("section",v(h({},s),{className:t(d,l.carousel_item)}),_)},M=e.memo(j),F=e.forwardRef((W,S)=>{var I=W,{className:d,showIndicator:_=!0,autoplay:s=!1,duration:u=3e3,speed:f=500,timingFunction:K="ease",children:b,onChange:g,indicatorRender:C}=I,P=E(I,["className","showIndicator","autoplay","duration","speed","timingFunction","children","onChange","indicatorRender"]);const w=r(),[a,y]=e.useState(0),k=e.useRef(0),c=e.useMemo(()=>e.Children.toArray(b),[b]);let T=e.useRef();const m=e.useCallback(()=>y(n=>n===c.length-1?0:n+1),[c]),p=e.useCallback(()=>y(n=>n===0?c.length-1:n-1),[c]);e.useEffect(()=>{g&&a!==k.current&&g.call(null,a,k.current),k.current=a},[a,g]),e.useEffect(()=>(s&&c.length>1&&(T.current=window.setTimeout(m,u)),()=>window.clearTimeout(T.current)),[s,a,u,c,m]),e.useImperativeHandle(S,()=>({next:m,prev:p,goTo:n=>y(n)}),[m,p]);const q=e.useCallback(n=>{n.stopPropagation(),(n.key==="Enter"||n.key===" ")&&n.currentTarget.click(),n.key==="ArrowRight"&&m(),n.key==="ArrowLeft"&&p()},[m,p]);return e.createElement("div",v(h({},P),{className:t(d,l.carousel)}),e.createElement("div",{className:l.container,style:{transform:`translate(${-a*100+"%"}, 0)`,transitionDuration:`${f}ms`,transitionTimingFunction:K}},e.Children.map(b,(n,i)=>typeof n=="undefined"?n:e.cloneElement(n,{id:`carousel-item-${w}-${i}`,role:"tabpanel","aria-labelledby":`carousel-indicator-${w}-${i}`,"aria-hidden":a===i}))),_&&(C?C(a,c.length):e.createElement("ul",{className:l.indicator,role:"tablist"},c.map((n,i)=>e.createElement("li",{key:i,id:`carousel-indicator-${w}-${i}`,role:"tab","aria-label":`change to page ${i+1}`,"aria-controls":`carousel-item-${w}-${i}`,"aria-selected":a===i,tabIndex:0,className:t(l.indicator_item,{[l.active]:a===i}),onClick:()=>y(i),onKeyDown:q},e.createElement("div",{className:l.indicator_item_inner,style:{animationDuration:s&&c.length>1?`${u}ms`:"0"}}))))))}),A=e.memo(F);return A.Item=M,A});
