(function(n,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.ReactFancyCarousel={},n.React))})(this,function(n,e){"use strict";var Y=Object.defineProperty,Z=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var z=(n,e,o)=>e in n?Y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,v=(n,e)=>{for(var o in e||(e={}))B.call(e,o)&&z(n,o,e[o]);if(A)for(var o of A(e))H.call(e,o)&&z(n,o,e[o]);return n},C=(n,e)=>Z(n,x(e));var T=(n,e)=>{var o={};for(var d in n)B.call(n,d)&&e.indexOf(d)<0&&(o[d]=n[d]);if(n!=null&&A)for(var d of A(n))e.indexOf(d)<0&&H.call(n,d)&&(o[d]=n[d]);return o};const o=(...r)=>r.reduce((l,t)=>l.concat(typeof t=="string"?t:t&&Object.keys(t).map(s=>t[s]?s:"")),[]).filter(Boolean).join(" "),d=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,E=()=>e.useCallback(r=>{r.preventDefault(),r.stopPropagation();const l=r.currentTarget.parentNode,t=Array.from(l.childNodes),s=t.findIndex(m=>m===r.currentTarget);(r.key==="Enter"||r.key===" ")&&r.currentTarget.click(),r.key==="ArrowRight"&&(s===t.length-1?t[0].focus():t[s+1].focus()),r.key==="ArrowLeft"&&(s===0?t[t.length-1].focus():t[s-1].focus())},[]),k={carousel:"_carousel_1jakq_1",container:"_container_1jakq_6",slide:"_slide_1jakq_12",carousel_item:"_carousel_item_1jakq_17",fade:"_fade_1jakq_22"},U=w=>{var j=w,{style:r,className:l,uid:t,index:s,active:m,effect:y,speed:a,children:f}=j,u=T(j,["style","className","uid","index","active","effect","speed","children"]);return e.createElement("section",C(v({},u),{style:Object.assign({transitionDuration:`${a}ms`},r),className:o(l,k.carousel_item,{[k.fade]:y==="fade"}),id:`carousel-item-${t}-${s}`,role:"tabpanel","data-active":m,"aria-labelledby":`carousel-indicator-${t}-${s}`,"aria-hidden":!m}),f)},g={indicator:"_indicator_jqkl4_1",indicator_item:"_indicator_item_jqkl4_11",indicator_item_inner:"_indicator_item_inner_jqkl4_21",animation:"_animation_jqkl4_35",indicatorAnim:"_indicatorAnim_jqkl4_1"},G=({uid:r,itemCount:l,activeIndex:t,animation:s,duration:m,goTo:y})=>{const a=E();return e.createElement("ul",{className:g.indicator,role:"tablist"},Array.from({length:l}).map((f,u)=>e.createElement("li",{key:u,id:`carousel-indicator-${r}-${u}`,role:"tab","aria-label":`change to page ${u+1}`,"aria-controls":`carousel-item-${r}-${u}`,"aria-selected":t===u,tabIndex:t===u?0:-1,"data-active":t===u,className:g.indicator_item,onClick:()=>y(u),onKeyDown:a},e.createElement("div",{className:o(g.indicator_item_inner,{[g.animation]:s}),style:{animationDuration:`${m}ms`}}))))},I={indicator:"_indicator_1yfvs_1",indicator_item:"_indicator_item_1yfvs_11"},J=({uid:r,itemCount:l,activeIndex:t,goTo:s})=>{const m=E();return e.createElement("ul",{className:I.indicator,role:"tablist"},Array.from({length:l}).map((y,a)=>e.createElement("li",{key:a,id:`carousel-indicator-${r}-${a}`,role:"tab","aria-label":`change to page ${a+1}`,"aria-controls":`carousel-item-${r}-${a}`,"aria-selected":t===a,tabIndex:t===a?0:-1,"data-active":t===a,className:I.indicator_item,onClick:()=>s(a),onKeyDown:m})))},Q={default:"_default_hwawz_1"},V=e.forwardRef((ue,W)=>{var M=ue,{className:r,autoplay:l=!1,effect:t="slide",duration:s=3e3,speed:m=500,timingFunction:y="ease",infiniteLoop:a=!0,indicator:f="solid",children:u,onChange:w}=M,j=T(M,["className","autoplay","effect","duration","speed","timingFunction","infiniteLoop","indicator","children","onChange"]);const S=d(),[_,h]=e.useState(0),p=e.useRef(0),i=e.useMemo(()=>e.Children.count(u),[u]),F=e.useRef(i),N=e.useRef(),[X,K]=e.useState(l&&i>1),O=e.useMemo(()=>f==="solid"?G:f==="dot"?J:f,[f]),$=e.useCallback(()=>h(c=>c===i-1?a?0:c:c+1),[a,i]),q=e.useCallback(()=>h(c=>c===0?a?i-1:c:c-1),[a,i]),b=e.useCallback(c=>h(()=>c<0?-c>i?0:i+c:c>i-1?i-1:c),[i]);return e.useEffect(()=>{w&&_!==p.current&&w.call(null,_,p.current),p.current=_},[_,w]),e.useEffect(()=>(l&&i>1&&(!a&&_===i-1?window.clearTimeout(N.current):N.current=window.setTimeout($,s)),()=>window.clearTimeout(N.current)),[l,_,s,a,i,$]),e.useEffect(()=>(l&&i>1&&window.requestAnimationFrame(()=>K(!0)),()=>K(!1)),[l,s,i]),e.useEffect(()=>{i!==F.current&&b(0),F.current=i},[i,b]),e.useImperativeHandle(W,()=>({next:$,prev:q,goTo:b}),[$,q,b]),e.createElement("div",C(v({},j),{className:o(r,Q.default,k.carousel)}),e.createElement("div",{className:o(k.container,{[k.slide]:t==="slide"}),style:t==="slide"?{transform:`translate(${-_*100+"%"}, 0)`,transitionDuration:`${m}ms`,transitionTimingFunction:y}:void 0},e.Children.map(u,(c,P)=>typeof c=="undefined"?c:e.cloneElement(c,{uid:S,index:P,active:_===P,effect:t==="fade"?"fade":"none",speed:m}))),O&&e.createElement(O,{uid:S,activeIndex:_,itemCount:i,animation:X,duration:s,next:$,prev:q,goTo:b}))}),D=e.memo(V);D.Item=U,n.default=D,n.useAccessibility=E,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
