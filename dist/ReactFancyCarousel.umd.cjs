(function(e,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n(require("react")):typeof define=="function"&&define.amd?define(["react"],n):(e=typeof globalThis!="undefined"?globalThis:e||self,e.ReactFancyCarousel=n(e.React))})(this,function(e){"use strict";var G=Object.defineProperty,J=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var K=(e,n,o)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,N=(e,n)=>{for(var o in n||(n={}))M.call(n,o)&&K(e,o,n[o]);if(h)for(var o of h(n))S.call(n,o)&&K(e,o,n[o]);return e},C=(e,n)=>J(e,Q(n));var I=(e,n)=>{var o={};for(var c in e)M.call(e,c)&&n.indexOf(c)<0&&(o[c]=e[c]);if(e!=null&&h)for(var c of h(e))n.indexOf(c)<0&&S.call(e,c)&&(o[c]=e[c]);return o};const n=(...r)=>r.reduce((s,t)=>s.concat(typeof t=="string"?t:Object.keys(t||{}).map(i=>(t||{})[i]?i:"")),[]).filter(Boolean).join(" "),o=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,c=()=>e.useCallback(r=>{r.stopPropagation();const s=r.currentTarget.parentNode,t=Array.from(s.childNodes),i=t.findIndex(m=>m===r.currentTarget);(r.key==="Enter"||r.key===" ")&&r.currentTarget.click(),r.key==="ArrowRight"&&(i===t.length-1?t[0].focus():t[i+1].focus()),r.key==="ArrowLeft"&&(i===0?t[t.length-1].focus():t[i-1].focus())},[]),g={carousel:"_carousel_xhwdo_1",container:"_container_xhwdo_6",carousel_item:"_carousel_item_xhwdo_14"},j=i=>{var m=i,{className:r,children:s}=m,t=I(m,["className","children"]);return e.createElement("section",C(N({},t),{className:n(r,g.carousel_item)}),s)},F=e.memo(j),$={indicator:"_indicator_182iv_1",indicator_item:"_indicator_item_182iv_11",indicator_item_inner:"_indicator_item_inner_182iv_21",active:"_active_182iv_31",indicatorAnim:"_indicatorAnim_182iv_1"},P=({uid:r,itemCount:s,activeIndex:t,duration:i,goTo:m})=>{const f=c();return e.createElement("ul",{className:$.indicator,role:"tablist"},Array.from({length:s}).map((a,l)=>e.createElement("li",{key:l,id:`carousel-indicator-${r}-${l}`,role:"tab","aria-label":`change to page ${l+1}`,"aria-controls":`carousel-item-${r}-${l}`,"aria-selected":t===l,tabIndex:t===l?0:-1,className:n($.indicator_item,{[$.active]:t===l}),onClick:()=>m(l),onKeyDown:f},e.createElement("div",{className:$.indicator_item_inner,style:{animationDuration:`${i}ms`}}))))},q=e.memo(P),p={indicator:"_indicator_1iyzs_1",indicator_item:"_indicator_item_1iyzs_11",active:"_active_1iyzs_21"},B=({uid:r,itemCount:s,activeIndex:t,goTo:i})=>{const m=c();return e.createElement("ul",{className:p.indicator,role:"tablist"},Array.from({length:s}).map((f,a)=>e.createElement("li",{key:a,id:`carousel-indicator-${r}-${a}`,role:"tab","aria-label":`change to page ${a+1}`,"aria-controls":`carousel-item-${r}-${a}`,"aria-selected":t===a,tabIndex:t===a?0:-1,className:n(p.indicator_item,{[p.active]:t===a}),onClick:()=>i(a),onKeyDown:m})))},H=e.memo(B),L=e.forwardRef((ie,U)=>{var x=ie,{className:r,autoplay:s=!1,duration:t=3e3,speed:i=500,timingFunction:m="ease",indicator:f="solid",children:a,onChange:l}=x,O=I(x,["className","autoplay","duration","speed","timingFunction","indicator","children","onChange"]);const b=o(),[d,v]=e.useState(0),k=e.useRef(0),_=e.useMemo(()=>e.Children.toArray(a),[a]);let D=e.useRef();const z=e.useMemo(()=>f==="solid"?q:f==="dot"?H:f,[f]),y=e.useCallback(()=>v(u=>u===_.length-1?0:u+1),[_]),w=e.useCallback(()=>v(u=>u===0?_.length-1:u-1),[_]),A=e.useCallback(u=>v(u),[]);return e.useEffect(()=>{l&&d!==k.current&&l.call(null,d,k.current),k.current=d},[d,l]),e.useEffect(()=>(s&&_.length>1&&(D.current=window.setTimeout(y,t)),()=>window.clearTimeout(D.current)),[s,d,t,_,y]),e.useImperativeHandle(U,()=>({next:y,prev:w,goTo:A}),[y,w,A]),e.createElement("div",C(N({},O),{className:n(r,g.carousel)}),e.createElement("div",{className:g.container,style:{transform:`translate(${-d*100+"%"}, 0)`,transitionDuration:`${i}ms`,transitionTimingFunction:m}},e.Children.map(a,(u,E)=>typeof u=="undefined"?u:e.cloneElement(u,{id:`carousel-item-${b}-${E}`,role:"tabpanel","aria-labelledby":`carousel-indicator-${b}-${E}`,"aria-hidden":d===E}))),z&&e.createElement(z,{uid:b,activeIndex:d,itemCount:_.length,duration:s&&_.length>1?t:0,next:y,prev:w,goTo:A}))}),T=e.memo(L);return T.Item=F,T});
