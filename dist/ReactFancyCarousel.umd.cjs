(function(n,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.ReactFancyCarousel={},n.React))})(this,function(n,e){"use strict";var G=Object.defineProperty,J=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var K=(n,e,i)=>e in n?G(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,T=(n,e)=>{for(var i in e||(e={}))x.call(e,i)&&K(n,i,e[i]);if(p)for(var i of p(e))P.call(e,i)&&K(n,i,e[i]);return n},I=(n,e)=>J(n,Q(e));var D=(n,e)=>{var i={};for(var u in n)x.call(n,u)&&e.indexOf(u)<0&&(i[u]=n[u]);if(n!=null&&p)for(var u of p(n))e.indexOf(u)<0&&P.call(n,u)&&(i[u]=n[u]);return i};const i=(...r)=>r.reduce((s,t)=>s.concat(typeof t=="string"?t:Object.keys(t||{}).map(l=>(t||{})[l]?l:"")),[]).filter(Boolean).join(" "),u=()=>e.useRef(Math.random().toString(36).substring(2,7)).current,g=()=>e.useCallback(r=>{r.stopPropagation();const s=r.currentTarget.parentNode,t=Array.from(s.childNodes),l=t.findIndex(m=>m===r.currentTarget);(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),r.currentTarget.click()),r.key==="ArrowRight"&&(l===t.length-1?t[0].focus():t[l+1].focus()),r.key==="ArrowLeft"&&(l===0?t[t.length-1].focus():t[l-1].focus())},[]),h={carousel:"_carousel_xhwdo_1",container:"_container_xhwdo_6",carousel_item:"_carousel_item_xhwdo_14"},q=l=>{var m=l,{className:r,children:s}=m,t=D(m,["className","children"]);return e.createElement("section",I(T({},t),{className:i(r,h.carousel_item)}),s)},y={indicator:"_indicator_uwymd_1",indicator_item:"_indicator_item_uwymd_11",indicator_item_inner:"_indicator_item_inner_uwymd_21",active:"_active_uwymd_31",animation:"_animation_uwymd_35",indicatorAnim:"_indicatorAnim_uwymd_1"},O=({uid:r,itemCount:s,activeIndex:t,animation:l,duration:m,goTo:f})=>{const a=g();return e.createElement("ul",{className:y.indicator,role:"tablist"},Array.from({length:s}).map((b,d)=>e.createElement("li",{key:d,id:`carousel-indicator-${r}-${d}`,role:"tab","aria-label":`change to page ${d+1}`,"aria-controls":`carousel-item-${r}-${d}`,"aria-selected":t===d,tabIndex:t===d?0:-1,className:i(y.indicator_item,{[y.active]:t===d}),onClick:()=>f(d),onKeyDown:a},e.createElement("div",{className:i(y.indicator_item_inner,{[y.animation]:l}),style:{animationDuration:`${m}ms`}}))))},v={indicator:"_indicator_1iyzs_1",indicator_item:"_indicator_item_1iyzs_11",active:"_active_1iyzs_21"},B=({uid:r,itemCount:s,activeIndex:t,goTo:l})=>{const m=g();return e.createElement("ul",{className:v.indicator,role:"tablist"},Array.from({length:s}).map((f,a)=>e.createElement("li",{key:a,id:`carousel-indicator-${r}-${a}`,role:"tab","aria-label":`change to page ${a+1}`,"aria-controls":`carousel-item-${r}-${a}`,"aria-selected":t===a,tabIndex:t===a?0:-1,className:i(v.indicator_item,{[v.active]:t===a}),onClick:()=>l(a),onKeyDown:m})))},H=e.forwardRef((se,L)=>{var S=se,{className:r,autoplay:s=!1,duration:t=3e3,speed:l=500,timingFunction:m="ease",indicator:f="solid",children:a,onChange:b}=S,d=D(S,["className","autoplay","duration","speed","timingFunction","indicator","children","onChange"]);const A=u(),[_,E]=e.useState(0),k=e.useRef(0),o=e.useMemo(()=>(console.log(e.Children.count(a)),e.Children.count(a)),[a]),j=e.useRef(),[U,z]=e.useState(s&&o>1),F=e.useMemo(()=>f==="solid"?O:f==="dot"?B:f,[f]),$=e.useCallback(()=>E(c=>c===o-1?0:c+1),[o]),N=e.useCallback(()=>E(c=>c===0?o-1:c-1),[o]),w=e.useCallback(c=>E(()=>c<0?-c>o?0:o+c:c>o-1?o-1:c),[o]);return e.useEffect(()=>{b&&_!==k.current&&b.call(null,_,k.current),k.current=_},[_,b]),e.useEffect(()=>(s&&o>1&&(j.current=window.setTimeout($,t)),()=>window.clearTimeout(j.current)),[s,_,t,o,$]),e.useEffect(()=>(s&&o>1&&window.requestAnimationFrame(()=>z(!0)),()=>z(!1)),[s,t,o]),e.useEffect(()=>{w(0)},[o,w]),e.useImperativeHandle(L,()=>({next:$,prev:N,goTo:w}),[$,N,w]),e.createElement("div",I(T({},d),{className:i(r,h.carousel)}),e.createElement("div",{className:h.container,style:{transform:`translate(${-_*100+"%"}, 0)`,transitionDuration:`${l}ms`,transitionTimingFunction:m}},e.Children.map(a,(c,C)=>typeof c=="undefined"?c:e.cloneElement(c,{id:`carousel-item-${A}-${C}`,role:"tabpanel","aria-labelledby":`carousel-indicator-${A}-${C}`,"aria-hidden":_===C}))),F&&e.createElement(F,{uid:A,activeIndex:_,itemCount:o,animation:U,duration:t,next:$,prev:N,goTo:w}))}),M=e.memo(H);M.Item=q,n.default=M,n.useAccessibility=g,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
